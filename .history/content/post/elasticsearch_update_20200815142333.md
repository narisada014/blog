---
title: "Elasticsearch 5.6.3を7.4に上げた"
date: 2020-08-15T14:12:54+09:00
draft: false
---

# 苦労したところ
1. シノニムの読み込み方法の変更
Elasticsearchの5系から6系にアップデートされた時点で劇的な変更が...
synonymファイルをfilterに入れるとトークン化されてしまう。  
つまり、「資生堂,SHISEIDO,しせいどう」などがシノニムファイルに定義されている場合、  
「し,せい,どう」のように分割されてしまい、6系以上では検索時のノイズの原因になってしまう。  

2. typelessにAPIが変更されていた

